# Домашнее задание к занятию "Основы работы с Asterisk"


### Цель задания


В результате выполнения задания вы научитесь:  

1. Установить Asterisk на виртуальной машине
2. Настроить учетные записи для регистрации на данном сервере
3. Настроить простейшую маршрутизацию вызова между внутренними абонентами данной АТС

------
 ### Инструкция к выполнению
 1. Скачайте текущую версию Asterisk из репозитория http://downloads.asterisk.org/pub/telephony/asterisk/asterisk-16-current-patch.tar.gz
 2. В каталоге, куда были загружены исходники найти и выполнить скрипт по установке необходимых для asterisk пакетов - его можно найти в каталоге /contrib/scripts/install_prereq install
 3. В каталоге, куда были загружены исходники выполнить ./configure 
 4. make menuselect
 5. Выбрав необходимые модули для сборки нажмите "Save & Exit"
 6. make && make install && make samples && ldconfig
 7. /usr/sbin/asterisk
 
 Настройка внутренних номеров.
 1. В файле sip.conf настроить две учетные записи [1001] и [1002] по образцу ниже:
 
 [XXXX]
type=friend 
secret=XXXXXXX 
context=XXXXXX 
host=dynamic
disallow=all 
allow=ulaw,alaw 
nat=no
directmedia=no 
qualify=yes

В secret должен быть указан пароль, а в качестве context - название контекста диалплана, в котором будут обрабатывать звонки.

В [general] нужно определелить context по умолчанию - назавем его "from-internal"

2. В файле extensions.conf нужно настроить обработку вызовов в контексте по умолчанию "from-internal"

[from-internal]
exten => _X.,1,Dial(SIP/${EXTEN})
same => n,Hangup 







